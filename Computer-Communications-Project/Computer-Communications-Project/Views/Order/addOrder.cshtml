@model Computer_Communications_Project.ViewModel.HallAndMovie
@using Computer_Communications_Project.ViewModel
@{
    Layout = null;
}



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link href="~/Content/Seats.css" rel="stylesheet" />
    <script src="~/Scripts/OrderScript.js"></script>
    <title>Movie Seat Booking</title>
</head>
<body>
    <div>
        <div>
            <p>Movie Name: @Model.Movie.MovieName</p>
            <p>Movie Date: @Model.Movie.Date</p>
            <p>Hall Name: @Model.Movie.HallName</p>
        </div>
        <table class="center">
            @for (int i = 1; i <= Model.Hall.RowNumber; i++)
            {
                <tr>
                    @for (int j = 1; j <= Model.Hall.ColNumber; j++)
                    {
                        if (Model.Orders.Any(m => m.LineSeat == i && m.RowSeat == j))
                        {
                            <td>
                                <div style="background-color:red">
                                    &#x1f4ba;
                                </div>
                            </td>
                        }
                        else
                        {
                            <td>
                                <div onclick="seatCol(this, @Model.Movie.Price)" class="selectedSeats">
                                    &#x1f4ba;
                                </div>
                            </td>
                        }
                    }
                </tr>
            }
        </table>
        <p>total seats = <span id="myTotal">0</span></p>
        <p>Total price = <span id="totalPrice">0</span></p>
        <form action="payment" method="post">
            <input type="submit" value="Order" />
        </form>
    </div>
</body>
</html>

